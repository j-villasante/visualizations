<html>

<head>
    <title>Wave plate</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="utf-8">
    <link rel="stylesheet" href="./normalize.css">
    <link rel="stylesheet" href="./styles/main.css">
    <script>
        MathJax = {
            chtml: {}
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
        </script>
</head>

<body>
    <h1>Wave plate</h1>
    <div id="container">
        <div class="form">
            <div class="form-group">
                <label for="frequency">\(\omega\)</label>
                <input type="number" name="frequency" id="frequency" step="0.1">
            </div>
            <div class="form-group">
                <label for="e_0x">\(E_{0x}\)</label>
                <input type="number" name="e_0x" id="e_0x" step="0.1">
            </div>
            <div class="form-group">
                <label for="e_0y">\(E_{0y}\)</label>
                <input type="number" name="e_0y" id="e_0y" step="0.1">
            </div>
            <div class="form-group">
                <label for="phi">\(\phi\)</label>
                <input type="number" name="phi" id="phi" step="0.1">
            </div>
            <div class="form-group">
                <label for="retardation">\(\Gamma\) (\(\pi\) units)</label>
                <input type="number" name="retardation" id="retardation" step="0.1">
            </div>
            <div class="form-group">
                <label for="retAngle">\(\theta\)</label>
                <input type="number" name="retAngle" id="retAngle" step="1">
            </div>
            <div class="form-group">
                <label for="scale">Scale</label>
                <input type="number" name="scale" id="scale">
            </div>
            <button id="apply-button">Apply</button>
            <button id="but-stop">Play/pause</button>
        </div>
        <div id="animations">
            <div>
                <div class="animation-label">Polarized light</div>
                <canvas id="regular"></canvas>
                <div id="pol-eq">
                    $$
                    \vec{E} = e^{it}\begin{pmatrix} 1 \\ 1 \end{pmatrix}
                    $$
                </div>
            </div>
            <div>
                <div class="animation-label">Shifted light</div>
                <canvas id="retarded"></canvas>
            </div>
        </div>
    </div>
    <div class="explanation">
        The animation on the left shows the change of the electric field of light given by
        $$
        \vec{E} = e^{i\omega t}\begin{pmatrix} E_{0x} \\ E_{0y}e^{i\phi} \end{pmatrix}
        $$
        The animation on the right is the light after going through a waveplate. To do this we start by expressing \(\vec{E}\) in terms of components of the rotated axis. The angle \(\theta\) of the rotated axis represents the angle of the wave plate.<br>
        $$
        \vec{E}' = \begin{pmatrix}
            \cos\theta & \sin\theta \\ 
            -\sin\theta & \cos\theta 
        \end{pmatrix}
        \begin{pmatrix} 
            E_{0x}e^{i\omega t} \\
            E_{0y}e^{i(\omega t + \phi)}
        \end{pmatrix}
        $$
        $$
        \vec{E}' = \begin{pmatrix}
            \cos(\theta) E_{0x}e^{i\omega t} + \sin(\theta) E_{0y}e^{i(\omega t + \phi)} \\ 
            -\sin(\theta) E_{0x}e^{i\omega t} + \cos(\theta) E_{0y}e^{i(\omega t + \phi)} 
        \end{pmatrix}
        $$
        We then subtract \(\Gamma\pi\) to the component of \(\vec{E}'\) that we want to slow down. In our case, the \(x\) component is being slowed down.<br>
        $$
        \vec{E}_r = \begin{pmatrix}
            \cos(\theta) E_{0x}e^{i(\omega t - \Gamma\pi)} + \sin(\theta) E_{0y}e^{i(\omega t + \phi - \Gamma\pi)} \\ 
            -\sin(\theta) E_{0x}e^{i\omega t} + \cos(\theta) E_{0y}e^{i(\omega t + \phi)} 
        \end{pmatrix}
        $$
        \(\vec{E}_r\) is the resulting vector, and it is basically obtained by changing the basis vectors of \(\vec{E}\) to the rotated axis, and retarding the component on the slow axis by \(\Gamma\pi\). With this method we are able to show any amount of retardation and not just the ones done by a half-wave or quarter-wave plates.<br>
        Finally, just as a side note, in other to be able to draw this in the browser using javascript, \(\vec{E}_r\) was expressed in terms of cosines, and in terms of components of the non-rotated axis.
        $$
        \vec{E}_r =
        \begin{pmatrix}
            \cos(\theta) E_{0x}\cos(\omega t - \Gamma\pi) + \sin(\theta) E_{0y}\cos(\omega t + \phi - \Gamma\pi) \\ 
            -\sin(\theta) E_{0x}\cos(\omega t) + \cos(\theta) E_{0y}\cos(\omega t + \phi)
        \end{pmatrix}
        $$
        $$
        \vec{E}_f = 
        \begin{pmatrix}
            \cos\theta & -\sin\theta \\ 
            \sin\theta & \cos\theta 
        \end{pmatrix}
        \vec{E}_r
        $$
        The scale parameter is how many screen pixels represent a unit when drawing the vector. The animation was done using <a href="https://ptsjs.org/">Pts.js</a>. The code can be found <a
            href="https://github.com/j-villasante/visualizations">here</a>.
    </div>
    <script src="./app.js"></script>
</body>

</html>